p_2300 %>% add_boxplot()
p_2300 %>% add_boxplot() %.% group_by(~wrk_flow_c)
p_2300 %>% add_boxplot() %>% group_by(~wrk_flow_c)
p_2300 <- plot_ly(drill_2300, y = ~LINR_FT_STORE, color = ~ACCT_MO_I)
p_2300 %>% add_histogram()
p_2300 %>% add_boxplot() %>% group_by(~wrk_flow_c)
p_2300 %>% add_boxplot()
p_2300 %>% add_boxplot(x=~wrk_flow_c)
gg_2300 <- ggplot(drill_2300, aes(x = ~wrk_flow_c, y = ~ LINR_FT_STORE)
gg_2300 <- ggplot(drill_2300, aes(x = ~wrk_flow_c, y = ~ LINR_FT_STORE) )
gg_2300 <- ggplot(drill_2300, aes(x = ~wrk_flow_c, y = ~ LINR_FT_STORE) )
gg_2300 + geom_histogram()
gg_2300 + geom_histogram(binwidth = 1000)
gg_2300 <- ggplot(drill_2300, aes(x = wrk_flow_c, y = LINR_FT_STORE) )
gg_2300 + geom_histogram(binwidth = 1000)
gg_2300 <- ggplot(drill_2300, aes(x = wrk_flow_c, y = LINR_FT_STORE, stat_bin(10)) )
gg_2300 + geom_histogram()
p_2300 <- plot_ly(drill_2300, y = ~LINR_FT_STORE)
p_2300 %>% add_histogram()
p_2300 %>% add_boxplot()
gg_2300 + geom_point()
gg_2300 + geom_boxplot()
ggplotly(gg_2300 + geom_boxplot())
rm(p_2300)
gg_2300 <- ggplot(drill_2300, aes(x = wrk_flow_c, y = LINR_FT_STORE, stat_bin(10)) )
#gg_2300 + geom_boxplot()
ggplotly(gg_2300 + geom_boxplot())
?standard deviation
stats_2300 <- drill_2300 %>%
group_by(wrk_flow_c) %>%
summarize(mean = mean(LINR_FT_STORE), sd = sd(LINR_FT_STORE)) %>%
arrange(wrk_flow_c)
stats_2300
stats_2300 <- drill_2300 %>%
group_by(wrk_flow_c) %>%
summarize(mean = mean(LINR_FT_STORE), sd = sd(LINR_FT_STORE), n = count(LINR_FT_STORE)) %>%
arrange(wrk_flow_c)
stats_2300 <- drill_2300 %>%
group_by(wrk_flow_c) %>%
summarize(mean = mean(LINR_FT_STORE), sd = sd(LINR_FT_STORE), n = count_(LINR_FT_STORE)) %>%
arrange(wrk_flow_c)
stats_2300 <- drill_2300 %>%
group_by(wrk_flow_c) %>%
summarize(mean = mean(LINR_FT_STORE), sd = sd(LINR_FT_STORE), n = n(LINR_FT_STORE)) %>%
arrange(wrk_flow_c)
stats_2300 <- drill_2300 %>%
group_by(wrk_flow_c) %>%
summarize(, n = n() ,mean = mean(LINR_FT_STORE), sd = sd(LINR_FT_STORE)) %>%
arrange(wrk_flow_c)
stats_2300 <- drill_2300 %>%
group_by(wrk_flow_c) %>%
summarize(, n = n(wrk_flow_c) ,mean = mean(LINR_FT_STORE), sd = sd(LINR_FT_STORE)) %>%
arrange(wrk_flow_c)
stats_2300 <- drill_2300 %>%
group_by(wrk_flow_c) %>%
summarize(n = n(wrk_flow_c) ,mean = mean(LINR_FT_STORE), sd = sd(LINR_FT_STORE)) %>%
arrange(wrk_flow_c)
stats_2300 <- drill_2300 %>%
group_by(wrk_flow_c) %>%
summarize(n = n() ,mean = mean(LINR_FT_STORE), sd = sd(LINR_FT_STORE)) %>%
arrange(wrk_flow_c)
stats_2300
stats_2300 <- drill_2300 %>%
group_by(wrk_flow_c) %>%
summarize(n = n() ,mean = mean(LINR_FT_STORE), sd = sd(LINR_FT_STORE), min = min(LINR_FT_STORE), max = max(LINR_FT_STORE)) %>%
arrange(wrk_flow_c)
stats_2300
gg_2300 + geom_histogram()
gg_2300 + geom_boxplot()
gg_2300 <- ggplot(drill_2300, aes(x = wrk_flow_c, y = LINR_FT_STORE) )
gg_2300 + geom_boxplot()
gg_2300 + geom_histogram()
ggplotly(gg_2300 + geom_boxplot(x = LINR_FT_STORE ))
gg_2300 + geom_histogram(aes(LINR_FT_STORE))
gg_2300_hist + geom_histogram(aes(LINR_FT_STORE))
gg_2300_hist <- ggplot(drill_2300, aes(x = LINR_FT_STORE ))
gg_2300_hist + geom_histogram(aes(LINR_FT_STORE))
gg_2300_hist + geom_histogram(aes(LINR_FT_STORE))
+ facet_grid(wrk_flow_c)
gg_2300_hist + geom_histogram(aes(LINR_FT_STORE))
+ facet_grid(~wrk_flow_c)
gg_2300_hist + geom_histogram(aes(LINR_FT_STORE))
+ facet_grid(wrk_flow_c~)
gg_2300_hist + geom_histogram(aes(LINR_FT_STORE))
+ facet_grid(wrk_flow_c~.)
gg_2300_hist + geom_histogram(aes(LINR_FT_STORE))
+ facet_grid(factor(wrk_flow_c)~.)
gg_2300_hist + geom_histogram(aes(LINR_FT_STORE))
+ facet_grid(.~wrk_flow_
gg_2300_hist + geom_histogram(aes(LINR_FT_STORE))
+ facet_grid(.~wrk_flow_c)
gg_2300 + geom_pointrange()
gg_2300 + geom_pointrange(wrk_flow, ymin = min(LINR_FT_STORE), ymax = max(LINR_FT_STORE))
gg_2300 + geom_pointrange(drill_2300$wrk_flow, ymin = min(drill_2300$LINR_FT_STORE), ymax = max(drill_2300$LINR_FT_STORE))
gg_2300 + geom_pointrange(drill_2300$wrk_flow, aes(ymin = min(drill_2300$LINR_FT_STORE), ymax = max(drill_2300$LINR_FT_STORE))
)
qplot(data = drill_2300, x = LINR_FT_STORE , geom = 'histogram')
qplot(data = drill_2300, x = LINR_FT_STORE , geom = 'histogram', facets = ~wrk_flow_c)
qplot(data = drill_2300, x = LINR_FT_STORE , geom = 'scatter', facets = ~wrk_flow_c)
qplot(data = drill_2300, x = wrk_flow_c , y = LINR_FT_STORE , geom = 'scatter', facets = ~wrk_flow_c)
qplot(data = drill_2300, x = wrk_flow_c , y = LINR_FT_STORE , geom = 'point', facets = ~wrk_flow_c)
stats_2300 <- drill_2300 %>%
group_by(wrk_flow_c) %>%
summarize(n = n() ,mean = mean(LINR_FT_STORE), sd = sd(LINR_FT_STORE), min = min(LINR_FT_STORE), max =                     max(LINR_FT_STORE)) %>%
arrange(wrk_flow_c)
stats_2300
gg_2300 <- ggplot(drill_2300, aes(x = wrk_flow_c, y = LINR_FT_STORE, stat_bin(10)) )
#gg_2300 + geom_boxplot()
ggplotly(gg_2300 + geom_boxplot())
ggplotly(gg_2300 + geom_boxplot(x = LINR_FT_STORE ))
ggplotly(gg_2300 + geom_boxplot())
qplot(data = drill_2300, x = wrk_flow_c , y = LINR_FT_STORE , geom = 'point', facets = ~wrk_flow_c)
qplot(data = drill_2300, x = wrk_flow_c , y = LINR_FT_STORE , geom = 'point', facets = ~wrk_flow_c)
qplot(data = drill_2300[wrk_flow_c == 'POG'], x = wrk_flow_c , y = LINR_FT_STORE , geom = 'point', facets = ~wrk_flow_c)
qplot(data = drill_2300[drill_2300$wrk_flow_c == 'POG'], x = wrk_flow_c , y = LINR_FT_STORE , geom = 'point', facets = ~wrk_flow_c)
qplot(data = drill_2300['POG'], x = wrk_flow_c , y = LINR_FT_STORE , geom = 'point', facets = ~wrk_flow_c)
qplot(data = drill_2300[drill_2300$wrk_flow_c == 'POG',], x = wrk_flow_c , y = LINR_FT_STORE , geom = 'point', facets = ~wrk_flow_c)
qplot(data = drill_2300[drill_2300$wrk_flow_c == 'POG',], x = wrk_flow_c , y = LINR_FT_STORE , geom = 'point', facets = ~wrk_flow_c, color = ACCT_MO_I)
qplot(data = drill_2300[drill_2300$wrk_flow_c == 'POG',], x = wrk_flow_c , y = LINR_FT_STORE , geom = 'point', facets = ~wrk_flow_c, color = factor(ACCT_MO_I) )
qplot(data = drill_2300[drill_2300$wrk_flow_c == 'POG',], x = wrk_flow_c , y = LINR_FT_STORE , geom = 'point',
facets = ~wrk_flow_c, color = factor(ACCT_MO_I) )
hist_POG <- qplot(data = drill_2300[drill_2300$wrk_flow_c == 'POG',], x = wrk_flow_c , y = LINR_FT_STORE , geom = 'point',
facets = ~wrk_flow_c, color = factor(ACCT_MO_I) )
ggplotly(hist_POG)
hist_POG <- qplot(data = drill_2300[drill_2300$wrk_flow_c == 'POG',], x = wrk_flow_c , y = LINR_FT_STORE , geom = 'point', facets = ~wrk_flow_c, color = factor(ACCT_MO_I) )
ggplotly(hist_POG)
pog_mpd_ratio_2300 <- sqlQuery(db_DLPL,
'select *
from dbo.POG_MPD_RATIO
where CO_LOC_REF_I = 2300
order by acct_mo_end_d , adjc_i , mdse_dept_ref_i
')
pog_mpd_ratio_2300
View(pog_mpd_ratio_2300)
pog_total_2300 <- sqlQuery(db_DLPL,
'
SELECT acct_mo_end_d, SUM(fxtr_lgth_q) AS LF
FROM DLFIN_PLDEPT.POG_Totals
WHERE brck_mrtr_str_i = 2171
GROUP BY acct_mo_end_d
ORDER BY acct_mo_end_d
')
pog_total_2300
td_DLPL <- tdConnect('TD PRODA',uid=uid,pwd=pwd,database = 'DLFIN_PLDEPT')
td_DLPL <- tdConnect('Teradata PRODA',uid=uid,pwd=pwd,database = 'DLFIN_PLDEPT')
View(pog_mpd_ratio_2300)
pog_total_2300 <- tdQuery(db_DLPL,
'
SELECT acct_mo_end_d, SUM(fxtr_lgth_q) AS LF
FROM DLFIN_PLDEPT.POG_Totals
WHERE brck_mrtr_str_i = 2171
GROUP BY acct_mo_end_d
ORDER BY acct_mo_end_d
')
pog_total_2300 <- tdQuery(db_DLPL,
'
SELECT acct_mo_end_d, SUM(fxtr_lgth_q) AS LF
FROM DLFIN_PLDEPT.POG_Totals
WHERE brck_mrtr_str_i = 2171
GROUP BY acct_mo_end_d
ORDER BY acct_mo_end_d
', as.is = TRUE)
pog_total_2300 <- tdQuery(db_DLPL,
"
SELECT acct_mo_end_d, SUM(fxtr_lgth_q) AS LF
FROM DLFIN_PLDEPT.POG_Totals
WHERE brck_mrtr_str_i = 2171
GROUP BY acct_mo_end_d
ORDER BY acct_mo_end_d
", as.is = TRUE)
db_td_DLPL <- odbcConnect('Teradata PRODA',uid,pwd)
pog_total_2300 <- tdQuery(td_DLPL,
"SELECT acct_mo_end_d, SUM(fxtr_lgth_q) AS Total_LF
FROM DLFIN_PLDEPT.POG_Totals
WHERE brck_mrtr_str_i = 2171
GROUP BY acct_mo_end_d
ORDER BY acct_mo_end_d
") #, as.is = TRUE)
pog_total_2300 <- tdQuery(td_DLPL,
"SELECT acct_mo_end_d, SUM(fxtr_lgth_q) AS Total_LF
FROM DLFIN_PLDEPT.POG_Totals
WHERE brck_mrtr_str_i = 2171
GROUP BY acct_mo_end_d
ORDER BY acct_mo_end_d
", as.is = TRUE)
pog_total_2300 <- sqlQuery(db_td_DLPL,
"SELECT acct_mo_end_d, SUM(fxtr_lgth_q) AS Total_LF
FROM DLFIN_PLDEPT.POG_Totals
WHERE brck_mrtr_str_i = 2171
GROUP BY acct_mo_end_d
ORDER BY acct_mo_end_d
") #, as.is = TRUE)
rm(td_DLPL)
pog_total_2300 <- sqlQuery(db_td_DLPL,
"SELECT acct_mo_end_d, SUM(fxtr_lgth_q) AS Total_LF
FROM DLFIN_PLDEPT.POG_Totals
WHERE brck_mrtr_str_i = 2171
GROUP BY acct_mo_end_d
ORDER BY acct_mo_end_d
")
pog_total_2300
pog_total_2300 <- sqlQuery(db_td_DLPL,
"SELECT acct_mo_end_d, SUM(fxtr_lgth_q) AS Total_POG_LF
FROM DLFIN_PLDEPT.POG_Totals
WHERE brck_mrtr_str_i = 2171
GROUP BY acct_mo_end_d
ORDER BY acct_mo_end_d
")
pog_total_2300
pog_total_dept_2300 <- sqlQuery(db_td_DLPL,
"
SELECT acct_mo_end_d, SUM(fxtr_lgth_q) AS Total_Dept_LF
FROM
(
SELECT DISTINCT acct_mo_end_d, mdse_dspl_i , fxtr_lgth_q
FROM DLFIN_PLDEPT.POG_Totals_DEPT
WHERE brck_mrtr_str_i = 2171
) AS a
GROUP BY acct_mo_end_d
ORDER BY acct_mo_end_d
")
pog_total_dept_2300
pog_ratio_check_2300 <- sqlQuery(db_td_DLPL,
'
SELECT acct_mo_end_d ,
COUNT(DISTINCT mdse_dspl_i) AS pog_count ,
SUM(ratio_dept_facings) AS pog_ratio_sum
FROM DLFIN_PLDEPT.POG_DEPT_RATIO
WHERE brck_mrtr_str_i = 2171
GROUP BY acct_mo_end_d
ORDER BY acct_mo_end_d
')
pog_ratio_check_2300
pog_ratio_check_2300 <- sqlQuery(db_td_DLPL,
'
SELECT acct_mo_end_d ,
COUNT(DISTINCT mdse_dspl_i) AS pog_count ,
SUM(ratio_dept_facings) AS pog_ratio_sum
FROM DLFIN_PLDEPT.POG_DEPT_RATIO
WHERE brck_mrtr_str_i = 2171
GROUP BY acct_mo_end_d
ORDER BY acct_mo_end_d
')
pog_ratio_check_2300
pog_mpd_ratio_2300 <- sqlQuery(db_DLPL,
'
SELECT ACCT_MO_END_D , sum(adjc_dept_facings) as LF ,
sum(ratio_mpd_facings) as num_pogs
FROM DeptLocPL.dbo.POG_MPD_RATIO
WHERE co_loc_ref_i = 2300
GROUP BY ACCT_MO_END_D
order by ACCT_MO_END_D
')
pog_mpd_ratio_2300
pog_mpd_ratio_2300 <- sqlQuery(db_DLPL,
'
SELECT ACCT_MO_END_D , sum(adjc_dept_facings) as LF ,
sum(ratio_mpd_facings) as num_pogs
FROM DeptLocPL.dbo.POG_MPD_RATIO
WHERE co_loc_ref_i = 2300
GROUP BY ACCT_MO_END_D
order by ACCT_MO_END_D
')
pog_mpd_ratio_2300
pog_mpd_ratio_2300 <- sqlQuery(db_DLPL,
'
SELECT ACCT_MO_END_D , sum(adjc_dept_facings) as LF ,
sum(ratio_mpd_facings) as num_adjc
FROM DeptLocPL.dbo.POG_MPD_RATIO
WHERE co_loc_ref_i = 2300
GROUP BY ACCT_MO_END_D
order by ACCT_MO_END_D
')
pog_mpd_ratio_2300
dbo.LINR_FT_SUM_BY_MO <- sqlQuery(db_DLPL,
'select ACCT_YR_I , ACCT_MO_I , co_loc_ref_i ,
sum(LINR_FT_Q) AS LINR_FT_SUM_MO
from dbo.LINR_FT_W
group by ACCT_YR_I , ACCT_MO_I , co_loc_ref_i
order by co_loc_ref_i , ACCT_MO_I
')
drill_2300 <- sqlQuery(db_DLPL,
'select
ACCT_YR_I , ACCT_MO_I , CO_LOC_REF_I , wrk_flow_c ,
SUM(LINR_FT_Q) AS LINR_FT_STORE
from DeptLocPL.dbo.LINR_FT_W
where CO_LOC_REF_I = 2300
GROUP BY ACCT_YR_I , ACCT_MO_I , CO_LOC_REF_I , wrk_flow_c
ORDER BY CO_LOC_REF_I, ACCT_MO_I
')
drill_2300
dbo.LINR_FT_SUM_BY_MO_2300 <- sqlQuery(db_DLPL,
'select ACCT_YR_I , ACCT_MO_I , co_loc_ref_i ,
sum(LINR_FT_Q) AS LINR_FT_SUM_MO
from dbo.LINR_FT_W
where co_loc_ref_i = 2300
group by ACCT_YR_I , ACCT_MO_I , co_loc_ref_i
order by co_loc_ref_i , ACCT_MO_I
')
dbo.LINR_FT_SUM_BY_MO_2300
dbo.LINR_FT_SUM_BY_MO_2300 <- sqlQuery(db_DLPL,
'select ACCT_YR_I , ACCT_MO_I , co_loc_ref_i ,
sum(LINR_FT_Q) AS LINR_FT_SUM_MO
from dbo.LINR_FT_E
where co_loc_ref_i = 2300
group by ACCT_YR_I , ACCT_MO_I , co_loc_ref_i
order by co_loc_ref_i , ACCT_MO_I
')
dbo.LINR_FT_SUM_BY_MO_2300
rm(dbo.LINR_FT_SUM_BY_MO_2300)
dbo.LINR_FT_E_2300 <- sqlQuery(db_DLPL,
'select *
from dbo.LINR_FT_E
where co_loc_ref_i = 2300
')
dbo.LINR_FT_E_2300
dbo.LINR_FT_E_2300 <- sqlQuery(db_DLPL,
'select sum(LINR_FT_Q) as LINR_FT_Q
from dbo.LINR_FT_E
where co_loc_ref_i = 2300
')
dbo.LINR_FT_E_2300
install.packages(c("BH", "colorspace", "curl", "data.table", "feather", "gdtools", "GGally", "ggplot2", "git2r", "hms", "htmlwidgets", "knitr", "plotly", "Rcpp", "repr", "rmarkdown", "RSQLite", "scales", "statmod", "XML", "yaml"))
install.packages(c("BH", "colorspace", "curl", "data.table", "feather", "gdtools", "GGally", "ggplot2", "git2r", "hms", "htmlwidgets", "knitr", "plotly", "Rcpp", "repr", "rmarkdown", "RSQLite", "scales", "statmod", "XML", "yaml"))
install.packages(c("BH", "colorspace", "curl", "data.table", "feather", "gdtools", "GGally", "ggplot2", "git2r", "hms", "htmlwidgets", "knitr", "plotly", "Rcpp", "repr", "rmarkdown", "RSQLite", "scales", "statmod", "XML", "yaml"))
install.packages(c("BH", "colorspace", "curl", "data.table", "feather", "gdtools", "GGally", "ggplot2", "git2r", "hms", "htmlwidgets", "knitr", "plotly", "Rcpp", "repr", "rmarkdown", "RSQLite", "scales", "statmod", "XML", "yaml"))
install.packages("Rcpp")
source('~/R/R_Startup.R', encoding = 'UTF-8')
library("ggplot2", lib.loc="C:/Apps/R/R-3.3.1/library")
count(installed.packages())
installed.packages()
count(installed.packages()[1])
nrows(installed.packages())
pckgs <- installed.packages()
num_rows <- nrow(as.data.frame(pckgs))
num_rows
num_rows <- nrow(as.data.frame(pckgs))
pckgs <- installed.packages()
num_rows <- nrow(as.data.frame(pckgs))
num_rows
pckgs <- installed.packages()
num_rows <- nrow(as.data.frame(pckgs))
pckgs[1:num_rows]
## File locations
file_cur <- 'C:\\Users\\z001c9v\\Documents\\R\\Package_list_pckgs_current.csv'
file_list <- 'C:\\Users\\z001c9v\\Documents\\R\\Package_list_pckgs.csv'
## Get the full details of the current packages
pckgs_current <- installed.packages()
pckgs_ds <- as.data.frame(pckgs_current)
write.csv(pckgs_ds, file = file_cur , row.names = FALSE)
## File locations
file_cur <- 'C:\\Users\\z001c9v\\Documents\\R\\Package_list_current.csv'
file_list <- 'C:\\Users\\z001c9v\\Documents\\R\\Package_list.csv'
## Get the full details of the current packages
pckgs_current <- installed.packages()
pckgs_ds <- as.data.frame(pckgs_current)
write.csv(pckgs_ds, file = file_cur , row.names = FALSE)
pckgs <- installed.packages()
num_rows <- nrow(as.data.frame(pckgs))
pckgs_list <- pckgs[1:num_rows] # save to .Rdata when closing
#pckgs_list <- pckgs[1:num_rows,1] # need to specify first column of the packages
# Write to Disk to import into the new R version
write.csv(pckgs_list, file = file_list , row.names = FALSE)
num_rows
pckgs_list <- read.csv(file_list)
pckgs_list
str(pckg_list)
str(pckgs_list[[1]])
pckgs_list[[1]]
new.packages <- list.of.packages[!(pckgs_list %in% installed.packages()[,"Package"])]
if(length(new.packages)) install.packages(new.packages)
install.packages(new.packages)
pckgs_new <- installed.packages()
num_rows_new <- nrow(as.data.frame(pckgs))
pckgs_new
num_rows_new <- nrow(as.data.frame(pckgs))
num_rows_new
isTRUE((num_rows_new >= num_rows))
source('~/R/R_Startup.R', encoding = 'UTF-8')
install.packages("plotly")
source('~/R/R_Startup.R', encoding = 'UTF-8')
db_DLPL <- odbcDriverConnect("Driver=ODBC Driver 13 for SQL Server;Server=tbfincfo001d; Database=DeptLocPL;Uid=uid; Pwd=pwd; trusted_connection=yes")
uid <- "z001c9v"
# tidyvers tools
#library("plyr")
library(dplyr) #Hadley Wickham
library(tidyr) #Hadley Wickham
library(data.table) #deblow
library(readr) #Hadley Wickham
library(lubridate) #Hadley Wickham
library(ggplot2) #Hadley Wickham
library(stringr) #Hadley Wickham
library(dtplyr) # combined dplyr + data.table
library(reshape) #Hadley Wickham
# Visualization Tools
library(rbokeh) #Continuum
#library(googleVis) # Google, create google charts
library(RColorBrewer)
library(plotly) # PLOTLY
library(colorRamps)
# Connectivity Tools
library(teradataR)
library(RJDBC)
library(RODBC)
library(sqldf)
#cat("\014")
detach("package:colorRamps", unload=TRUE)
detach("package:DBI", unload=TRUE)
detach("package:gsubfn", unload=TRUE)
detach("package:plotly", unload=TRUE)
detach("package:proto", unload=TRUE)
detach("package:rJava", unload=TRUE)
detach("package:RJDBC", unload=TRUE)
detach("package:RODBC", unload=TRUE)
detach("package:RSQLite", unload=TRUE)
detach("package:sqldf", unload=TRUE)
source('~/R/R_Startup.R', encoding = 'UTF-8')
source('~/R/R_startup.R', encoding = 'UTF-8')
source('~/R/R_startup.R', encoding = 'UTF-8')
source('~/R/R_startup.R', encoding = 'UTF-8')
source('~/R/R_startup.R', encoding = 'UTF-8')
source('~/R/R_startup.R', encoding = 'UTF-8')
source('~/R/R_startup.R', encoding = 'UTF-8')
source('~/R/R_startup.R', encoding = 'UTF-8')
source('~/R/R_startup.R', encoding = 'UTF-8')
source('~/R/R_startup.R', encoding = 'UTF-8')
source('~/R/R_startup.R', encoding = 'UTF-8')
library(sqldf)
pwd <- .rs.askForPassword("")
getwd()
setwd('C:\Users\z001c9v\Documents\Data\Weather')
setwd('C:\\Users\\z001c9v\\Documents\\Data\\Weather')
getwd()
load(Minneapolis_Weather.R)
source('~/R/R_startup.R')
RSQLite::dbConnect(SQLite() , dbname = "Weather.sqlite")
Weather_lite <- RSQLite::dbConnect(SQLite() , dbname = "Weather.sqlite")
dbWriteTable(conn = Weather_lite , name = "Minneapolis_Precip", value = "Minneapolis_Weather_percip_in_inches.csv",
row.names = FALSE, header = TRUE)
dbWriteTable(conn = Weather_lite , name = "Minneapolis_Precip", value = "Minneapolis_Weather_percip_in_inches.csv",
row.names = FALSE, header = TRUE)
dbWriteTable(conn = Weather_lite , name = "Minneapolis_Precip", value = "Minneapolis_Weather_percip_in_inches.csv",
row.names = FALSE, header = TRUE, overwrite = TRUE)
dbListTables(Weather_lite)                   # The tables in the database
dbListFields(Weather_lite, "Minneapolis_Precip")         # The columns in a table
dbReadTable(Weather_lite, "Minneapolis_Precip")          # The data in a table
dbSendQuery(Weather_lite,
"
select year , month ,
avg(Precip) as avg_precip ,
avg(SnowFall) as avg_SnowFall
from Minneapolis_Precip
group by year , month
")
sqldf(Weather_lite,
"
select year , month ,
avg(Precip) as avg_precip ,
avg(SnowFall) as avg_SnowFall
from Minneapolis_Precip
group by year , month
")
library(tcltk)
sqldf(Weather_lite,
"
select year , month ,
avg(Precip) as avg_precip ,
avg(SnowFall) as avg_SnowFall
from Minneapolis_Precip
group by year , month
")
sqldf(Weather_lite,
"
select year , month ,
avg(Precip) as avg_precip ,
avg(SnowFall) as avg_SnowFall
from Minneapolis_Precip
group by year , month
", as.is = TRUE)
data_test <- sqldf(Weather_lite,
"
select year , month ,
avg(Precip) as avg_precip ,
avg(SnowFall) as avg_SnowFall
from Minneapolis_Precip
group by year , month
")
sqldf("SELECT * FROM Minneapolis_Precip", dbname = "Weather_lite.sqlite")
sqldf("SELECT * FROM sqlite_master", dbname = "Weather_lite.sqlite")
sqldf("SELECT * FROM sqlite_master", dbname = "Weather_lite.sqlite")$tbl_name
sqldf("SELECT * FROM sqlite_master", dbname = "Weather_lite.sqlite")$name
sqldf("SELECT * FROM Minneapolis_Precip ", dbname = "Weather_lite.sqlite")
sqldf(dbname = "Weather_lite.sqlite" , "SELECT * FROM Minneapolis_Precip ")
sqldf(dbname = "Weather.sqlite" , "SELECT * FROM Minneapolis_Precip ")
start <- Sys.time()
sqldf(dbname = "Weather.sqlite" , "SELECT * FROM Minneapolis_Precip ")
end <- Sys.time()
print(start)
print(end)
print(end - start)
start <- Sys.time()
sqldf(dbname = "Weather.sqlite" ,
"select year , month ,
avg(Precip) as avg_precip ,
avg(SnowFall) as avg_SnowFall
from Minneapolis_Precip
group by year , month
")
end <- Sys.time()
print(start)
print(end)
print(end - start)
